<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>GYMPRO ELITE V10.6</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="app-container">
    <header>
        <button id="global-back" class="back-btn" onclick="handleBackClick()">חזור</button>
        <h1 id="screen-title">GYMPRO</h1>
        <div style="width: 40px;"></div> 
    </header>

    <main id="app-content">
        <div id="ui-init" class="screen active">
            <div class="list-group">
                <div class="list-item" onclick="initAudio()" id="audio-init-btn">
                    <span>הפעל סאונד ורטט</span>
                    <span class="arrow">➔</span>
                </div>
            </div>
            <div class="list-group">
                <div class="list-item" onclick="navigate('ui-week')">
                    <span>התחל אימון</span>
                    <span class="arrow">➔</span>
                </div>
            </div>
        </div>

        <div id="ui-week" class="screen">
            <div class="list-group-title">בחר שבוע לתוכנית</div>
            <div class="list-group">
                <div class="list-item" onclick="selectWeek(1)"><span>שבוע 1 (5 חזרות)</span><span class="arrow">➔</span></div>
                <div class="list-item" onclick="selectWeek(2)"><span>שבוע 2 (3 חזרות)</span><span class="arrow">➔</span></div>
                <div class="list-item" onclick="selectWeek(3)"><span>שבוע 3 (1-5 חזרות)</span><span class="arrow">➔</span></div>
            </div>
        </div>

        <div id="ui-workout-type" class="screen">
            <div class="list-group">
                <div class="list-item" onclick="selectWorkout('A')"><span>אימון A (כתפיים/חזה)</span><span class="arrow">➔</span></div>
                <div class="list-item" onclick="selectWorkout('B')"><span>אימון B (רגליים/גב)</span><span class="arrow">➔</span></div>
                <div class="list-item" onclick="selectWorkout('C')"><span>אימון C (חזה/כתפיים)</span><span class="arrow">➔</span></div>
            </div>
            <div class="list-group">
                <div class="list-item" onclick="startFreestyle()"><span>אימון חופשי (Manual)</span><span class="arrow">➔</span></div>
            </div>
        </div>

        <div id="ui-confirm" class="screen">
            <h2 id="confirm-ex-name">---</h2>
            <p class="secondary-label">האם תרצה לבצע את התרגיל המתוכנן?</p>
            <button class="btn-primary" onclick="confirmExercise(true)">התחל תרגיל</button>
            <button class="btn-primary secondary" onclick="confirmExercise(false)">דלג</button>
        </div>

        <div id="ui-1rm" class="screen">
            <h2 id="rm-title">1RM</h2>
            <div class="list-group">
                <div class="list-item">
                    <select id="rm-picker" style="width: 100%;"></select>
                </div>
            </div>
            <button class="btn-primary" onclick="save1RM()">חשב משקלי עבודה</button>
        </div>

        <div id="ui-muscle-select" class="screen">
            <div class="list-group">
                <div class="list-item" onclick="showExerciseList('חזה')"><span>חזה</span><span class="arrow">➔</span></div>
                <div class="list-item" onclick="showExerciseList('גב')"><span>גב</span><span class="arrow">➔</span></div>
                <div class="list-item" onclick="showExerciseList('כתפיים')"><span>כתפיים</span><span class="arrow">➔</span></div>
                <div class="list-item" onclick="showExerciseList('רגליים')"><span>רגליים</span><span class="arrow">➔</span></div>
            </div>
            <button class="btn-primary secondary" onclick="finish()">סיים אימון</button>
        </div>

        <div id="ui-variation" class="screen">
            <h2 id="variation-title">תרגילים</h2>
            <div id="variation-options" class="list-group"></div>
        </div>

        <div id="ui-main" class="screen">
            <h2 id="ex-display-name">---</h2>
            <p id="set-counter" class="secondary-label">SET 1/3</p>

            <div id="timer-area" class="timer-container">
                <svg class="timer-svg" viewBox="0 0 180 180">
                    <circle class="bg-circle" cx="90" cy="90" r="80"></circle>
                    <circle id="timer-progress" class="progress-circle" cx="90" cy="90" r="80"></circle>
                </svg>
                <div id="rest-timer" class="timer-text">00:00</div>
            </div>

            <div class="list-group">
                <div class="list-item picker-row">
                    <div class="picker-col"><label>kg</label><select id="weight-picker"></select></div>
                    <div class="picker-col"><label>reps</label><select id="reps-picker"></select></div>
                    <div class="picker-col"><label>RIR</label><select id="rir-picker"></select></div>
                </div>
            </div>

            <button class="btn-primary success" onclick="nextStep()">LOG SET</button>
            <p id="last-set-info" class="history-label"></p>
            <p id="unilateral-note" class="warning-label" style="display:none; color: var(--ios-red);">* בצע לכל צד בנפרד</p>
        </div>

        <div id="ui-extra" class="screen">
            <div style="font-size: 60px; text-align: center;">✅</div>
            <h2>סיימת!</h2>
            <button class="btn-primary" onclick="handleExtra(true)">סט בונוס 🔥</button>
            <button class="btn-primary secondary" onclick="handleExtra(false)">המשך</button>
        </div>

        <div id="ui-ask-arms" class="screen">
            <h2>עבודת ידיים?</h2>
            <button class="btn-primary" onclick="startArmWorkout()">כן, תן לי בייספס/טרייספס</button>
            <button class="btn-primary secondary" onclick="finish()">לא, סיים אימון</button>
        </div>

        <div id="ui-arm-selection" class="screen">
            <h2 id="arm-selection-title">בחר תרגיל</h2>
            <div id="arm-options" class="list-group"></div>
            <button id="btn-skip-arm-group" class="btn-primary secondary">דלג</button>
        </div>

        <div id="ui-summary" class="screen">
            <h2>סיכום אימון</h2>
            <div id="summary-area"></div>
            <button class="btn-primary" onclick="copyResult()">העתק וסגור</button>
        </div>
    </main>
</div>
<script src="script.js"></script>
</body>
</html>
